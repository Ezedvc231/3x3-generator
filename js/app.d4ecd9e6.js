(function(){"use strict";var e={7640:function(e,t,a){var r=a(5328),s=a(6760),o=a(8752);const n={key:0},i={id:"columns",class:"columns is-inline-flex is-multiline is-mobile"};function l(e,t,a,l,c,u){const d=(0,s.E1)("Search"),p=(0,s.E1)("Cell"),m=(0,s.E1)("Tools");return(0,s.Wz)(),(0,s.An)(s.ae,null,[(0,s.K2)(r.Ox,{name:"fade"},{default:(0,s.Ql)((()=>[e.show_search?((0,s.Wz)(),(0,s.An)("div",n,[(0,s.K2)(d)])):(0,s.g1)("",!0)])),_:1}),(0,s.QD)("div",{id:"grid",class:"container is-max-desktop py-5",onClick:t[0]||(t[0]=(...t)=>e.hideForm&&e.hideForm(...t))},[(0,s.QD)("div",i,[((0,s.Wz)(!0),(0,s.An)(s.ae,null,(0,s.mi)(e.tiles,(t=>((0,s.Wz)(),(0,s.Az)(p,{class:(0,o.WN)(["image column p-0",{selected:t===e.selected_id,"is-half":4===e.tiles,"is-one-third":9===e.tiles,"is-one-quarter":16===e.tiles,"is-one-fifth":25===e.tiles}]),key:t,id:t,style:(0,o.MN)({"box-shadow":"0px 0px 0px 1px "+(t===e.selected_id?e.complementary_color:e.color)})},null,8,["class","id","style"])))),128))])]),(0,s.K2)(m)],64)}var c=a(8936);const u=["src","title"],d={key:1,class:"icon-img icon is-medium"};function p(e,t,a,o,n,i){const l=(0,s.E1)("ion-icon");return(0,s.Wz)(),(0,s.An)("a",{href:"#",onClick:t[0]||(t[0]=(0,r.Y7)(((...t)=>e.showSearch&&e.showSearch(...t)),["prevent"]))},[e.image?((0,s.Wz)(),(0,s.An)("img",{key:0,src:e.image,title:e.title},null,8,u)):((0,s.Wz)(),(0,s.An)("span",d,[(0,s.K2)(l,{class:"is-size-1",name:"images-outline"})]))])}var m=a(8568),g=a(5220),h=a.n(g);const f=Symbol("store"),v=()=>(0,c.o3)(f);var w=(0,c.eC)({state:{show_search:!1,selected_id:0,updater:e=>{},images:{},size:3,cached_source:null,color:localStorage.getItem("color")||"#ffffff",alpha:parseInt(localStorage.getItem("alpha")||"50")},mutations:{setShowSearch(e,t){e.show_search=t},setSelectedID(e,t){e.selected_id=t},setUpdater(e,t){e.updater=t},updateCell(e,t){e.cached_source=null,e.updater(t)},updateSize(e,t){e.cached_source=null;const a={};Object.keys(e.images).forEach((r=>{parseInt(r)<=t*t&&(a[r]=e.images[r])})),e.images=a,e.size=t},updateImages(e,{id:t,bitmap:a}){e.images[t]=a},updateColor(e,t){e.cached_source=null,e.color=t,localStorage.setItem("color",t)},updateAlpha(e,t){e.cached_source=null,e.alpha=t,localStorage.setItem("alpha",t)}},actions:{showSearch(e,{id:t,updater:a}){e.commit("setShowSearch",!0),e.commit("setSelectedID",t),e.commit("setUpdater",a)},hideSearch(e){e.commit("setShowSearch",!1),e.commit("setSelectedID",0)},updateCell(e,t){e.commit("updateCell",t)},updateImages(e,t){e.commit("updateImages",t)},updateSize(e,t){e.commit("updateSize",t)},updateColor(e,t){e.commit("updateColor",t)},updateAlpha(e,t){e.commit("updateAlpha",t)}},getters:{tiles(e){return e.size*e.size},complementary_color(e){return new(h())(e.color).mix(h()("darkblue")).hex()},color(e){return new(h())(e.color).alpha(e.alpha/100).hexa()}}}),_=(0,s._M)({props:{id:{type:Number,required:!0}},setup(e){const t=v(),a=(0,m.IL)(""),r=(0,m.IL)(""),s=s=>{r.value=s.title,a.value=s.image,t.dispatch("updateImages",{id:e.id,image:s.image,bitmap:s.bitmap})},o=()=>t.dispatch("showSearch",{id:e.id,updater:s});return{image:a,title:r,showSearch:o}}}),b=a(8152);const y=(0,b.c)(_,[["render",p],["__scopeId","data-v-1ac90d67"]]);var I=y;const k={class:"field",id:"search"},S={class:"tabs is-small"},z=["onClick"],A={class:"tabs is-small"},x=["onClick"],W={class:"control"},C=["placeholder"],D={key:0,class:"progress is-small is-info"},$={key:1,id:"results"},Q={key:2};function L(e,t,a,n,i,l){const c=(0,s.E1)("Cropper"),u=(0,s.E1)("ion-icon");return(0,s.Wz)(),(0,s.An)(s.ae,null,[(0,s.QD)("div",k,[(0,s.QD)("div",S,[(0,s.QD)("ul",null,[((0,s.Wz)(!0),(0,s.An)(s.ae,null,(0,s.mi)(e.apiNames,(t=>((0,s.Wz)(),(0,s.An)("li",{key:t,class:(0,o.WN)({"is-active":e.currentApi===t})},[(0,s.QD)("a",{class:"first-capitalized",href:"#",onClick:(0,r.Y7)((a=>e.changeApi(t)),["prevent"])},(0,o.WA)(t),9,z)],2)))),128))])]),(0,s.QD)("div",A,[(0,s.QD)("ul",null,[((0,s.Wz)(!0),(0,s.An)(s.ae,null,(0,s.mi)(e.tabs,(t=>((0,s.Wz)(),(0,s.An)("li",{key:t,class:(0,o.WN)({"is-active":e.currentTab===t})},[(0,s.QD)("a",{class:"first-capitalized",href:"#",onClick:(0,r.Y7)((a=>e.changeTab(t)),["prevent"])},(0,o.WA)(t),9,x)],2)))),128))])]),(0,s.QD)("div",W,[(0,s.wt)((0,s.QD)("input",{class:"input",placeholder:"Search "+e.currentTab+" or drag and drop images here",autocomplete:"off","onUpdate:modelValue":t[0]||(t[0]=t=>e.query=t),type:"text",id:"name",name:"name",onDragenter:t[1]||(t[1]=(0,r.Y7)((()=>{}),["prevent"])),onDragover:t[2]||(t[2]=(0,r.Y7)((()=>{}),["prevent"])),onDrop:t[3]||(t[3]=(0,r.Y7)(((...t)=>e.handleDrop&&e.handleDrop(...t)),["prevent"]))},null,40,C),[[r.Og,e.query]])])]),e.loading?((0,s.Wz)(),(0,s.An)("progress",D)):e.results.length?((0,s.Wz)(),(0,s.An)("div",$,[((0,s.Wz)(!0),(0,s.An)(s.ae,null,(0,s.mi)(e.results,(t=>((0,s.Wz)(),(0,s.Az)(c,{onSelected:a=>e.selected=t,key:t.mal_id,result:t},null,8,["onSelected","result"])))),128))])):(0,s.g1)("",!0),(0,s.wt)((0,s.QD)("a",{href:"#",onClick:t[4]||(t[4]=(0,r.Y7)(((...t)=>e.goBack&&e.goBack(...t)),["prevent"]))},[(0,s.K2)(u,{size:"large",name:"arrow-undo-outline"})],512),[[r.Ub,e.showing_more]]),!e.has_show_more&&e.selected?((0,s.Wz)(),(0,s.An)("span",Q,(0,o.WA)(e.selected.title),1)):!e.showing_more&&e.selected?((0,s.Wz)(),(0,s.An)("a",{key:3,href:"#",onClick:t[5]||(t[5]=(0,r.Y7)((t=>e.showMore(e.currentTab)),["prevent"]))},[(0,s.mY)("Show more of "),(0,s.QD)("b",null,(0,o.WA)(e.selected.title),1)])):(0,s.g1)("",!0)],64)}const M=["src","title"];function j(e,t,a,r,n,i){const l=(0,s.E1)("VueCropper");return(0,s.Wz)(),(0,s.An)(s.ae,null,[e.clicked?(0,s.g1)("",!0):((0,s.Wz)(),(0,s.An)("img",{key:0,onClick:t[0]||(t[0]=(...t)=>e.showCropper&&e.showCropper(...t)),src:e.result.image_url,title:e.result.title,class:"image-result"},null,8,M)),(0,s.K2)(l,{class:(0,o.WN)({hidden:!e.clicked}),onReady:e.ready,onCropend:e.cropend,ref:"cropper",title:e.result.title,src:e.result.image_url,rotatable:!1,scalable:!1,zoomable:!1,viewMode:1,aspectRatio:1,minCropBoxWidth:200,minCropBoxHeight:200,checkCrossOrigin:!1},null,8,["class","onReady","onCropend","title","src"])],64)}var R=a(3104);a(1940);const{Jimp:O}=window,E=async(e,t)=>{const a=document.createElement("canvas");a.width=e.width,a.height=e.height;const r=a.getContext("2d");if(!r)throw Error("couldn't get canvas context");r.drawImage(e,0,0);const s=r.getImageData(0,0,a.width,a.height),o=await O.read(s);o.resize(parseInt(`${t}`),parseInt(`${t}`));const n=await o.getBufferAsync(O.MIME_PNG);return new Blob([n],{type:O.MIME_PNG})},U=async(e,t,a)=>{const r=Math.min(e.width,e.height);if(r>t)return P(e,t);if(r<t){const t=await E(e,200);return T(t,a)}return Promise.resolve(e)},P=async(e,t)=>{const a=await E(e,t);return createImageBitmap(a,0,0,t,t)},T=async(e,t)=>createImageBitmap(await t.upscale(await createImageBitmap(e)));var K=(0,s._M)({components:{VueCropper:R.c},props:{result:{required:!0,type:Object}},emits:["selected"],setup(e,{emit:t}){const a=(0,m.IL)(null),r=v(),o=(0,m.IL)(!1);(0,s.wx)((()=>a.value?.destroy()));const n=()=>a.value?.zoomTo(.5),i=()=>{const{x:s,y:o,width:n,height:i}=a.value?.getData(),l=new Image;l.onload=async()=>{const t=document.createElement("canvas");t.width=n,t.height=i;const a=t.getContext("2d");a?.drawImage(l,s,o,n,i,0,0,n,i);const c=200,u=await P(await createImageBitmap(t),c),d=document.createElement("canvas");d.width=u.width,d.height=u.height,d.getContext("bitmaprenderer")?.transferFromImageBitmap(u),r.dispatch("updateCell",{image:d.toDataURL("image/png"),title:e.result.title,bitmap:await createImageBitmap(t,0,0,n,i)})},l.crossOrigin="Anonymous",l.src=e.result.image_url,t("selected",e.result)},l=()=>{o.value=!0,i()};return{cropper:a,ready:n,cropend:i,clicked:o,showCropper:l}}});const q=(0,b.c)(K,[["render",j],["__scopeId","data-v-57493756"]]);var B=q,N=(a(3248),a(2168),a(5104),a(8312),a(8472)),Y=a.n(N),F=a(2332);class V{constructor(){(0,F.c)(this,"last_id",0),(0,F.c)(this,"has_show_more",!1)}denormalizeTab(e){return"character"==e?"characters":e}async search(e,t){if(e.length<3)return[];const a=++this.last_id,{url:r,options:s}=this.fetchURL(t,e),o=await fetch(r,s),n=await o.json();if(this.last_id>a)return[];const i=this.processResult(n,t);return this.filterValidResults(i)}async filterValidResults(e){const t=new WeakSet,a=new Set;return await Promise.all(e.map((async e=>{try{const r=new URL(e.image_url);if(a.has(e.image_url))return;a.add(e.image_url);const s=await fetch(r.toString(),{method:"HEAD"});200===s.status&&t.add(e)}catch(r){}}))),e.filter((e=>t.has(e)))}}class J extends V{constructor(...e){super(...e),(0,F.c)(this,"has_show_more",!0)}async showMore({tab:e,selected:t}){const a=++this.last_id,{url:r}=this.showMoreURL({tab:e,selected:t}),s=await fetch(r),o=await s.json();if(this.last_id>a)return[];const n=this.processShowMoreResult({result:o,selected:t});return this.filterValidResults(n)}}a(8208);const G=e=>{const t=btoa(e).replaceAll("+","-").replaceAll("/","_").replaceAll("=","");return`https://itglxlolghqb6pboiyhguhbmtm0tsqli.lambda-url.us-east-1.on.aws/?url=${t}`};const H=(e,t)=>{switch(e){case"characters":return`fields[${e}]=names,image&filter[name]=${t}`;default:return`fields[${e}]=titles,posterImage&filter[text]=${t}`}};class X extends V{constructor(...e){super(...e),(0,F.c)(this,"name","kitsu"),(0,F.c)(this,"tabs",["anime","manga","character"])}fetchURL(e,t){return e=this.denormalizeTab(e),{url:`https://kitsu.io/api/edge/${e}?${H(e,encodeURI(t))}`}}processResult(e){return(e.data??[]).map((e=>({mal_id:e.id,title:Z(e)?e.attributes.titles.en_jp:e.attributes.names.en,image_url:Z(e)?e.attributes.posterImage.original||e.attributes.posterImage.large:e.attributes?.image?.original??""}))).filter((e=>e.image_url.length)).map((e=>({...e,image_url:G(e.image_url)})))}}const Z=e=>void 0!==e.attributes.titles;class ee extends V{constructor(...e){super(...e),(0,F.c)(this,"name","anilist"),(0,F.c)(this,"tabs",["anime","manga","character"])}fetchURL(e,t){const a={search:t,page:1,type:e.toUpperCase(),perPage:15},r={method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({query:re[e],variables:a})};return{url:"https://graphql.anilist.co",options:r}}processResult(e,t){return"character"===t?se(e?.data?.Page?.characters):oe(e?.data?.Page?.media)}}const te="query ($id: Int, $page: Int, $perPage: Int, $search: String, $type: MediaType) {\n    Page (page: $page, perPage: $perPage) {\n      media (id: $id, search: $search, type: $type) {\n        id\n        type\n        title {\n          romaji\n        }\n        coverImage {\n            extraLarge\n        }\n      }\n    }\n  }",ae="query ($id: Int, $page: Int, $perPage: Int, $search: String) {\n    Page (page: $page, perPage: $perPage) {\n      characters (id: $id, search: $search) {\n        id\n        name {\n          full\n        }\n        image {\n            large\n        }\n      }\n    }\n  }",re={anime:te,manga:te,character:ae},se=e=>e?e.filter((e=>e.image.large.length)).map((e=>({mal_id:e.id,title:e.name.full,image_url:G(e.image.large)}))):[],oe=e=>e?e.filter((e=>e.coverImage.extraLarge.length)).map((e=>({mal_id:e.id,title:e.title.romaji,image_url:G(e.coverImage.extraLarge)}))):[];class ne extends J{constructor(...e){super(...e),(0,F.c)(this,"name","jikan"),(0,F.c)(this,"tabs",["anime","manga","character"])}fetchURL(e,t){return e=this.denormalizeTab(e),{url:`https://api.jikan.moe/v4/${e}?limit=15&sort=desc&order_by=favorites&q=${encodeURI(t)}`}}processResult(e){return(e.data??[]).map((e=>({mal_id:e.mal_id,title:e.title||e.name,image_url:e.images.jpg.large_image_url||e.images.jpg.image_url})))}showMoreURL({tab:e,selected:t}){return e=this.denormalizeTab(e),{url:`https://api.jikan.moe/v4/${e}/${t.mal_id}/pictures`}}processShowMoreResult({result:e,selected:t}){return(e?.data??[]).map((e=>({mal_id:Math.random(),title:t.title,image_url:e.jpg.large_image_url||e.jpg.image_url})))}}class ie extends V{constructor(...e){super(...e),(0,F.c)(this,"name","last.fm"),(0,F.c)(this,"tabs",["albums"])}fetchURL(e,t){return{url:`https://ws.audioscrobbler.com/2.0?method=album.search&album=${encodeURI(t)}&api_key=dc639df7a8d4027a6f8d66ba3f9eb0a2&format=json`}}processResult(e){return(e?.results?.albummatches.album??[]).map((e=>({mal_id:Math.random(),title:`${e.artist} - ${e.name}`,image_url:e.image.filter((e=>"extralarge"===e.size)).shift()?.["#text"].replace("300x300","400x400")??""}))).slice(0,15)}}const le="c2238d2e85d4c7b3f18aa58e114ce4e5c6ff808f";class ce extends J{constructor(...e){super(...e),(0,F.c)(this,"name","giantbomb"),(0,F.c)(this,"tabs",["game","character"])}fetchURL(e,t){return{url:G(`https://www.giantbomb.com/api/search/?api_key=${le}&resources=${e}&query=${encodeURI(t)}&format=json&field_list=id,name,image,guid`)}}processResult(e){return(e?.results??[]).filter((e=>e.image.original_url.length)).map((e=>({guid:e.guid,mal_id:e.id,title:e.name,image_url:G(e.image.original_url)})))}showMoreURL({selected:e}){return{url:G(`https://www.giantbomb.com/api/images/${e.guid}/?api_key=${le}&format=json&limit=30`)}}processShowMoreResult({result:e,selected:t}){return(e?.results??[]).filter((e=>e.original_url.length)).map((e=>({mal_id:Math.random(),title:t.title,image_url:G(e.original_url)})))}}const ue=[new X,new ne,new ee,new ie,new ce],de=new Map;ue.forEach((e=>{de.set(e.name,e)}));const pe=e=>{const t=de.get(e);if(!t)throw Error("api not found");return t},me=localStorage.getItem("api")||"anilist",ge=ue.some((e=>e.name==me)),he=ge?me:ue[0].name;let fe=pe(he),ve="";const we=ue.map((e=>e.name)),_e=(0,m.IL)(he),be=(0,m.IL)(""),ye=(0,m.IL)(fe.tabs[0]),Ie=(0,m.IL)(!1),ke=(0,m.IL)([]),Se=(0,m.IL)(fe.tabs),ze=(0,m.IL)(fe.has_show_more),Ae=(0,m.IL)(!1),xe=(0,m.IL)(null),We=Y()((async(e,t)=>{Ie.value=!0,Ae.value=!1,xe.value=null,ze.value=fe.has_show_more,ke.value=await fe.search(e,t),Ie.value=!1}),500),Ce=async e=>{ye.value=e,await We(ve,e)};(0,s.Kg)(_e,(e=>{localStorage.setItem("api",e)})),(0,s.Kg)(be,(async e=>{ve=e,await We(e,ye.value)}));const De=async e=>{xe.value=null,_e.value=e,fe=pe(e),Se.value=fe.tabs,ze.value=fe.has_show_more,fe.tabs.includes(ye.value)||(ye.value=fe.tabs[0]),await We(ve,ye.value)},$e=async e=>{null!=xe.value&&(ke.value=await fe.showMore({tab:e,selected:xe.value}),Ae.value=!0)},Qe=async()=>{await We(ve,ye.value)},Le=e=>{const t=e.dataTransfer?.files;if(!t)return;const a=[];for(let r=0;r<t.length;r++){const e=t.item(r);a.push({mal_id:Math.random(),title:e.name,image_url:URL.createObjectURL(e)})}ke.value=a,ze.value=!1,Ae.value=!1};var Me={apis:ue,apiNames:we,currentApi:_e,changeApi:De,tabs:Se,currentTab:ye,changeTab:Ce,loading:Ie,query:be,results:ke,has_show_more:ze,showing_more:Ae,selected:xe,showMore:$e,goBack:Qe,handleDrop:Le},je=(0,s._M)({components:{Cropper:B},setup(){return{...Me}}});const Re=(0,b.c)(je,[["render",L],["__scopeId","data-v-3098bb92"]]);var Oe=Re;const Ee=["value"],Ue={class:"container is-max-desktop",id:"bottom"},Pe={class:"columns is-gapless"},Te={key:0},Ke={key:1},qe={class:"column"},Be={key:0},Ne=["value"],Ye=["value"],Fe={class:"column"},Ve={href:"https://github.com/gqgs/3x3-generator",target:"_blank"};function Je(e,t,a,r,n,i){const l=(0,s.E1)("DropDown"),c=(0,s.E1)("ion-icon");return(0,s.Wz)(),(0,s.An)(s.ae,null,[e.processing?((0,s.Wz)(),(0,s.An)("progress",{key:0,class:"progress is-small is-primary my-4",value:e.progress,max:"100"},null,8,Ee)):(0,s.g1)("",!0),(0,s.QD)("div",Ue,[(0,s.QD)("div",Pe,[(0,s.K2)(l,{class:"column",options:["200","400"],onClicked:t[0]||(t[0]=t=>e.cellSize=t)},{selected:(0,s.Ql)((()=>[(0,s.QD)("span",null,(0,o.WA)(e.size*e.cellSize)+"x"+(0,o.WA)(e.size*e.cellSize),1)])),option:(0,s.Ql)((t=>[(0,s.mY)((0,o.WA)(e.size*parseInt(t.option))+"x"+(0,o.WA)(e.size*parseInt(t.option)),1)])),_:1}),(0,s.K2)(l,{class:"column",options:["no-denoise","conservative","denoise1x","denoise2x","denoise3x","pro-no-denoise","pro-conservative","pro-denoise3x"],onClicked:t[1]||(t[1]=t=>e.denoise=t),disabled:200==e.cellSize},{selected:(0,s.Ql)((()=>[(0,s.QD)("span",null,(0,o.WA)(e.denoise),1)])),option:(0,s.Ql)((e=>[(0,s.mY)((0,o.WA)(e.option),1)])),_:1},8,["disabled"]),(0,s.K2)(l,{class:"column",options:e.workerList,onClicked:t[2]||(t[2]=t=>e.workers=t),title:"Max number of workers used when upscaling images",disabled:200==e.cellSize},{selected:(0,s.Ql)((()=>[(0,s.QD)("span",null,(0,o.WA)(e.workers),1)])),option:(0,s.Ql)((e=>[(0,s.mY)(" Upscale workers: "+(0,o.WA)(e.option),1)])),_:1},8,["options","disabled"]),(0,s.K2)(l,{class:"column",options:["image/jpeg","image/png","image/webp"],onClicked:t[3]||(t[3]=t=>e.download(t))},{selected:(0,s.Ql)((()=>[e.processing?((0,s.Wz)(),(0,s.An)("span",Te,(0,o.WA)(e.progress_msg),1)):((0,s.Wz)(),(0,s.An)("span",Ke,"Download"))])),option:(0,s.Ql)((e=>[(0,s.mY)(" Download ("+(0,o.WA)(e.option)+") ",1)])),_:1}),(0,s.K2)(l,{class:"column",options:["2","3","4","5"],onClicked:t[4]||(t[4]=t=>e.updateSize(t))},{selected:(0,s.Ql)((()=>[(0,s.QD)("span",null,(0,o.WA)(e.size)+"x"+(0,o.WA)(e.size),1)])),option:(0,s.Ql)((e=>[(0,s.mY)((0,o.WA)(e.option)+"x"+(0,o.WA)(e.option),1)])),_:1}),(0,s.QD)("div",qe,[(0,s.QD)("button",{class:"button is-small",onClick:t[5]||(t[5]=t=>e.select_color=!e.select_color)},"Border"),e.select_color?((0,s.Wz)(),(0,s.An)("div",Be,[(0,s.QD)("input",{class:"button is-small",type:"color",id:"color",value:e.color,onInput:t[6]||(t[6]=t=>e.updateColor(t))},null,40,Ne),(0,s.QD)("input",{class:"is-small",type:"range",value:e.alpha,onInput:t[7]||(t[7]=t=>e.updateAlpha(t))},null,40,Ye)])):(0,s.g1)("",!0)]),(0,s.QD)("div",Fe,[(0,s.QD)("a",Ve,[(0,s.K2)(c,{class:"pt-3",id:"github",name:"logo-octocat"})])])])])],64)}var Ge=a(2144),He=a.n(Ge);const Xe={class:"dropdown-trigger"},Ze=["aria-controls","disabled"],et={class:"icon is-small"},tt=["id"],at={class:"dropdown-content"},rt=["onClick"];function st(e,t,a,n,i,l){const c=(0,s.E1)("ion-icon");return(0,s.Wz)(),(0,s.An)("div",null,[(0,s.QD)("div",{class:(0,o.WN)([{"is-active":e.active},"dropdown is-up"])},[(0,s.QD)("div",Xe,[(0,s.QD)("button",{class:"button","aria-haspopup":"true","aria-controls":e.dropdown_menu_id,onClick:t[0]||(t[0]=t=>e.active=!e.active),disabled:e.disabled},[(0,s.oF)(e.$slots,"selected",{},void 0,!0),(0,s.QD)("span",et,[(0,s.K2)(c,{name:"chevron-down-outline"})])],8,Ze)]),(0,s.QD)("div",{class:"dropdown-menu",id:e.dropdown_menu_id,role:"menu"},[(0,s.QD)("div",at,[((0,s.Wz)(!0),(0,s.An)(s.ae,null,(0,s.mi)(e.options,(t=>((0,s.Wz)(),(0,s.An)("a",{href:"#",key:t,onClick:(0,r.Y7)((a=>{e.$emit("clicked",t),e.active=!1}),["prevent"]),class:"dropdown-item"},[(0,s.oF)(e.$slots,"option",{option:t},void 0,!0)],8,rt)))),128))])],8,tt)],2)])}var ot=(0,s._M)({props:{options:{type:Array,required:!0},disabled:{type:Boolean,default:!1}},emits:["clicked"],setup(){const e=(0,m.IL)(!1),t=Math.random().toString().slice(-8),a=`dropdown-menu-${t}`;return{active:e,dropdown_menu_id:a}}});const nt=(0,b.c)(ot,[["render",st],["__scopeId","data-v-6106c9b4"]]);var it=nt,lt=a(6176),ct=(0,s._M)({components:{DropDown:it},setup(){const e=navigator?.userAgentData?.mobile||!1,t=navigator.hardwareConcurrency,a=v(),r=(0,m.IL)(JSON.parse(localStorage.getItem("cellSize")||"400")),o=(0,m.IL)(JSON.parse(localStorage.getItem("workers")||(e?"1":t.toString()))),n=e=>a.dispatch("updateSize",e),i=e=>a.dispatch("updateColor",e.target.value),l=e=>a.dispatch("updateAlpha",e.target.value),c=(0,m.IL)(localStorage.getItem("denoise:v2")||"denoise1x"),u=(0,m.IL)(0),d="Creating image...",p=(0,m.IL)(!1),g=(0,m.IL)(!1);(0,s.Kg)(c,(e=>{a.state.cached_source=null,localStorage.setItem("denoise:v2",e)})),(0,s.Kg)(r,(e=>{a.state.cached_source=null,localStorage.setItem("cellSize",JSON.stringify(e))})),(0,s.Kg)(o,(e=>{localStorage.setItem("workers",JSON.stringify(e))}));const h=async e=>{const t=r.value,s=a.state.size,n=a.state.images,i=document.createElement("canvas");i.width=s*t,i.height=s*t;const l=i.getContext("2d");if(!l)throw new Error("could not get canvas context");l.strokeStyle=a.getters.color;const c=new lt.M({maxWorkers:o.value,maxInternalWorkers:1,denoiseModel:e}),d=()=>{let e=0;return async a=>{const r=await U(a,t,c);return u.value=++e/Object.keys(n).length*100,r}},p=d(),m=new Map;for(const a of Object.keys(n))m.set(a,p(n[a]));await Promise.all(Object.values(m));for(let a=0,r=1;a<s;a++)for(let e=0;e<s;e++,r++){const s=m.get(r.toString());s&&(l.drawImage(await s,0,0,t,t,e*t,a*t,t,t),l.strokeRect(e*t,a*t,t,t))}return c.terminate(),i},f=async e=>{a.state.cached_source||(u.value=0,p.value=!0,a.state.cached_source=await h(c.value),p.value=!1);const t=a.state.size;a.state.cached_source.toBlob((a=>{if(null==a)return;let r=`${t}x${t}`;switch(e){case"image/png":r=`${r}.png`;break;case"image/webp":r=`${r}.webp`;break;default:r=`${r}.jpg`}He()(a,r)}),e)},w=[...Array(t).keys()].map((e=>(e+1).toString()));return{download:f,cellSize:r,progress:u,progress_msg:d,denoise:c,updateSize:n,updateColor:i,updateAlpha:l,processing:p,workers:o,workerList:w,select_color:g}},computed:{...(0,c.ys)(["size","images","color","alpha"])}});const ut=(0,b.c)(ct,[["render",Je],["__scopeId","data-v-0453e41a"]]);var dt=ut,pt=(0,s._M)({name:"App",components:{Cell:I,Search:Oe,Tools:dt},computed:{...(0,c.ys)(["show_search","selected_id"]),...(0,c.gV)(["tiles","complementary_color","color"])},methods:{...(0,c.ae)(["hideSearch"]),hideForm(e){"grid"===e.target.id&&this.hideSearch()}}});const mt=(0,b.c)(pt,[["render",l]]);var gt=mt;(0,r.W0)(gt).use(w,f).mount("#app")}},t={};function a(r){var s=t[r];if(void 0!==s)return s.exports;var o=t[r]={exports:{}};return e[r].call(o.exports,o,o.exports,a),o.exports}a.m=e,function(){var e=[];a.O=function(t,r,s,o){if(!r){var n=1/0;for(u=0;u<e.length;u++){r=e[u][0],s=e[u][1],o=e[u][2];for(var i=!0,l=0;l<r.length;l++)(!1&o||n>=o)&&Object.keys(a.O).every((function(e){return a.O[e](r[l])}))?r.splice(l--,1):(i=!1,o<n&&(n=o));if(i){e.splice(u--,1);var c=s();void 0!==c&&(t=c)}}return t}o=o||0;for(var u=e.length;u>0&&e[u-1][2]>o;u--)e[u]=e[u-1];e[u]=[r,s,o]}}(),function(){a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,{a:t}),t}}(),function(){a.d=function(e,t){for(var r in t)a.o(t,r)&&!a.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){var e={524:0};a.O.j=function(t){return 0===e[t]};var t=function(t,r){var s,o,n=r[0],i=r[1],l=r[2],c=0;if(n.some((function(t){return 0!==e[t]}))){for(s in i)a.o(i,s)&&(a.m[s]=i[s]);if(l)var u=l(a)}for(t&&t(r);c<n.length;c++)o=n[c],a.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return a.O(u)},r=self["webpackChunk_3x3_generator"]=self["webpackChunk_3x3_generator"]||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}();var r=a.O(void 0,[999],(function(){return a(7640)}));r=a.O(r)})();
//# sourceMappingURL=app.d4ecd9e6.js.map