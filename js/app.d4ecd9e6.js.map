{"version":3,"file":"js/app.d4ecd9e6.js","mappings":"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","sources":["webpack://3x3-generator/./src/App.vue?2fc4","webpack://3x3-generator/./src/App.vue","webpack://3x3-generator/./src/components/GridCell.vue?5a14","webpack://3x3-generator/./src/components/GridCell.vue","webpack://3x3-generator/./src/store/index.ts","webpack://3x3-generator/./src/components/GridCell.vue?69fd","webpack://3x3-generator/./src/components/SearchItem.vue?2c05","webpack://3x3-generator/./src/components/SearchItem.vue","webpack://3x3-generator/./src/components/ImgCropper.vue?bf0f","webpack://3x3-generator/./src/components/ImgCropper.vue","webpack://3x3-generator/./src/image/index.ts","webpack://3x3-generator/./src/components/ImgCropper.vue?e3aa","webpack://3x3-generator/./src/api/api.ts","webpack://3x3-generator/./src/proxy.ts","webpack://3x3-generator/./src/api/kitsu.ts","webpack://3x3-generator/./src/api/anilist.ts","webpack://3x3-generator/./src/api/jikan.ts","webpack://3x3-generator/./src/api/lastfm.ts","webpack://3x3-generator/./src/api/giantbomb.ts","webpack://3x3-generator/./src/api/index.ts","webpack://3x3-generator/./src/components/SearchItem.vue?777b","webpack://3x3-generator/./src/components/ToolBar.vue?1326","webpack://3x3-generator/./src/components/ToolBar.vue","webpack://3x3-generator/./src/components/DropDown.vue?3735","webpack://3x3-generator/./src/components/DropDown.vue","webpack://3x3-generator/./src/components/DropDown.vue?5055","webpack://3x3-generator/./src/components/ToolBar.vue?afa6","webpack://3x3-generator/./src/App.vue?7ccd","webpack://3x3-generator/./src/main.ts","webpack://3x3-generator/webpack/bootstrap","webpack://3x3-generator/webpack/runtime/chunk loaded","webpack://3x3-generator/webpack/runtime/compat get default export","webpack://3x3-generator/webpack/runtime/define property getters","webpack://3x3-generator/webpack/runtime/global","webpack://3x3-generator/webpack/runtime/hasOwnProperty shorthand","webpack://3x3-generator/webpack/runtime/make namespace object","webpack://3x3-generator/webpack/runtime/jsonp chunk loading","webpack://3x3-generator/webpack/startup"],"sourcesContent":["import { resolveComponent as _resolveComponent, createVNode as _createVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, Transition as _Transition, withCtx as _withCtx, renderList as _renderList, Fragment as _Fragment, normalizeClass as _normalizeClass, normalizeStyle as _normalizeStyle, createBlock as _createBlock, createElementVNode as _createElementVNode } from \"vue\"\n\nconst _hoisted_1 = { key: 0 }\nconst _hoisted_2 = {\n  id: \"columns\",\n  class: \"columns is-inline-flex is-multiline is-mobile\"\n}\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _component_Search = _resolveComponent(\"Search\")!\n  const _component_Cell = _resolveComponent(\"Cell\")!\n  const _component_Tools = _resolveComponent(\"Tools\")!\n\n  return (_openBlock(), _createElementBlock(_Fragment, null, [\n    _createVNode(_Transition, { name: \"fade\" }, {\n      default: _withCtx(() => [\n        (_ctx.show_search)\n          ? (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n              _createVNode(_component_Search)\n            ]))\n          : _createCommentVNode(\"\", true)\n      ]),\n      _: 1\n    }),\n    _createElementVNode(\"div\", {\n      id: \"grid\",\n      class: \"container is-max-desktop py-5\",\n      onClick: _cache[0] || (_cache[0] = \n//@ts-ignore\n(...args) => (_ctx.hideForm && _ctx.hideForm(...args)))\n    }, [\n      _createElementVNode(\"div\", _hoisted_2, [\n        (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.tiles, (n) => {\n          return (_openBlock(), _createBlock(_component_Cell, {\n            class: _normalizeClass([\"image column p-0\", {'selected': n === _ctx.selected_id, 'is-half': _ctx.tiles === 4, 'is-one-third': _ctx.tiles === 9, 'is-one-quarter': _ctx.tiles === 16, 'is-one-fifth': _ctx.tiles === 25}]),\n            key: n,\n            id: n,\n            style: _normalizeStyle({'box-shadow': '0px 0px 0px 1px ' + (n === _ctx.selected_id ? _ctx.complementary_color : _ctx.color) })\n          }, null, 8, [\"class\", \"id\", \"style\"]))\n        }), 128))\n      ])\n    ]),\n    _createVNode(_component_Tools)\n  ], 64))\n}","<template>\n  <transition name=\"fade\">\n  <div v-if=\"show_search\"><Search /></div>\n  </transition>\n  <div id=\"grid\" class=\"container is-max-desktop py-5\" @click=\"hideForm\">\n    <div id=\"columns\" class=\"columns is-inline-flex is-multiline is-mobile\">\n    <Cell class=\"image column p-0\" :class=\"{'selected': n === selected_id, 'is-half': tiles === 4, 'is-one-third': tiles === 9, 'is-one-quarter': tiles === 16, 'is-one-fifth': tiles === 25}\"\n      v-for=\"n in tiles\" :key=\"n\" :id=\"n\" :style=\"{'box-shadow': '0px 0px 0px 1px ' + (n === selected_id ? complementary_color : color) }\" />\n    </div>\n  </div>\n  <Tools />\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent } from \"vue\"\nimport { mapState, mapActions, mapGetters } from \"vuex\"\nimport Cell from \"./components/GridCell.vue\"\nimport Search from \"./components/SearchItem.vue\"\nimport Tools from \"./components/ToolBar.vue\"\n\nexport default defineComponent({\n  name: \"App\",\n  components: {\n    Cell,\n    Search,\n    Tools\n  },\n  computed: {\n    ...mapState([\n      \"show_search\",\n      \"selected_id\"\n    ]),\n    ...mapGetters([\n      \"tiles\",\n      \"complementary_color\",\n      \"color\"\n    ])\n  },\n  methods: {\n    ...mapActions([\n      \"hideSearch\"\n    ]),\n    hideForm (event: Event) {\n      if ((event.target as Element).id === \"grid\") {\n        this.hideSearch()\n      }\n    }\n  }\n})\n</script>\n\n<style>\nhtml {\n  background: rgb(0, 0, 0, 5%);\n}\n\n#app {\n  font-family: Avenir, Helvetica, Arial, sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  text-align: center;\n  color: #2c3e50;\n  margin-top: 60px;\n}\n\n#columns {\n  width: 100%;\n  max-width: 600px;\n}\n\n.image {\n  aspect-ratio: 1 / 1;\n  overflow: hidden;\n}\n\n.selected {\n  border-width: 5px;\n  border-style: dotted;\n  border-radius: 5px;\n}\n\n.fade-enter-active {\n  transition: all .4s ease;\n}\n\n.fade-leave-active {\n  transition: all .1s ease;\n}\n\n.fade-enter-from, .fade-leave-to {\n  opacity: 0;\n}\n</style>\n","import { openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, resolveComponent as _resolveComponent, createVNode as _createVNode, withModifiers as _withModifiers, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-1ac90d67\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = [\"src\", \"title\"]\nconst _hoisted_2 = {\n  key: 1,\n  class: \"icon-img icon is-medium\"\n}\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _component_ion_icon = _resolveComponent(\"ion-icon\")!\n\n  return (_openBlock(), _createElementBlock(\"a\", {\n    href: \"#\",\n    onClick: _cache[0] || (_cache[0] = _withModifiers(\n//@ts-ignore\n(...args) => (_ctx.showSearch && _ctx.showSearch(...args)), [\"prevent\"]))\n  }, [\n    (_ctx.image)\n      ? (_openBlock(), _createElementBlock(\"img\", {\n          key: 0,\n          src: _ctx.image,\n          title: _ctx.title\n        }, null, 8, _hoisted_1))\n      : (_openBlock(), _createElementBlock(\"span\", _hoisted_2, [\n          _createVNode(_component_ion_icon, {\n            class: \"is-size-1\",\n            name: \"images-outline\"\n          })\n        ]))\n  ]))\n}","<template>\n<a href=\"#\" @click.prevent=\"showSearch\">\n  <img v-if=\"image\" :src=\"image\" :title=\"title\" />\n  <span v-else class=\"icon-img icon is-medium\">\n    <ion-icon class=\"is-size-1\" name=\"images-outline\" />\n  </span>\n</a>\n</template>\n\n<style scoped>\nspan.icon-img {\n  height: 100%;\n}\n</style>\n\n<script lang=\"ts\">\nimport { ref, defineComponent } from \"vue\"\nimport { useStore } from \"../store\"\nimport { Update } from \"../types\"\n\nexport default defineComponent({\n  props: {\n    id: {\n      type: Number,\n      required: true\n    }\n  },\n  setup (props) {\n    const store = useStore()\n    const image = ref(\"\")\n    const title = ref(\"\")\n\n    const update = (update: Update) => {\n      title.value = update.title\n      image.value = update.image\n      store.dispatch(\"updateImages\", { id: props.id, image: update.image, bitmap: update.bitmap })\n    }\n\n    const showSearch = () => store.dispatch(\"showSearch\", { id: props.id, updater: update })\n\n    return { image, title, showSearch }\n  }\n})\n</script>\n","import { createStore, useStore as baseUseStore, Store } from \"vuex\"\nimport { Update } from \"../types\"\nimport { InjectionKey } from \"vue\"\nimport Color from \"color\"\n\nexport interface State {\n  show_search: boolean\n  selected_id: number\n  updater: (update: Update) => void\n  images: { [key: string]: ImageBitmap }\n  size: number\n  cached_source: HTMLCanvasElement | null,\n  color: string\n  alpha: number\n}\n\nexport const key: InjectionKey<Store<State>> = Symbol(\"store\")\n\nexport const useStore = (): Store<State> => {\n  return baseUseStore(key)\n}\n\nexport default createStore<State>({\n  state: {\n    show_search: false,\n    selected_id: 0,\n    updater: (update: Update) => { console.warn(`unexpected call: ${update}`) },\n    images: {},\n    size: 3,\n    cached_source: null,\n    color: localStorage.getItem(\"color\") || \"#ffffff\",\n    alpha: parseInt(localStorage.getItem(\"alpha\") || \"50\")\n  },\n  mutations: {\n    setShowSearch (state, showSearch) {\n      state.show_search = showSearch\n    },\n    setSelectedID (state, id) {\n      state.selected_id = id\n    },\n    setUpdater (state, updater) {\n      state.updater = updater\n    },\n    updateCell (state, update) {\n      state.cached_source = null\n      state.updater(update)\n    },\n    updateSize (state, size) {\n      state.cached_source = null\n      // remove outdated images\n      const images: { [key: string]: ImageBitmap } = {}\n      Object.keys(state.images).forEach(id => {\n        if (parseInt(id) <= size * size) {\n          images[id] = state.images[id]\n        }\n      })\n      state.images = images\n      state.size = size\n    },\n    updateImages (state, { id, bitmap }) {\n      state.images[id] = bitmap\n    },\n    updateColor (state, color) {\n      state.cached_source = null\n      state.color = color\n      localStorage.setItem(\"color\", color)\n    },\n    updateAlpha (state, alpha) {\n      state.cached_source = null\n      state.alpha = alpha\n      localStorage.setItem(\"alpha\", alpha)\n    }\n  },\n  actions: {\n    showSearch (context, { id, updater }) {\n      context.commit(\"setShowSearch\", true)\n      context.commit(\"setSelectedID\", id)\n      context.commit(\"setUpdater\", updater)\n    },\n    hideSearch (context) {\n      context.commit(\"setShowSearch\", false)\n      context.commit(\"setSelectedID\", 0)\n    },\n    updateCell (context, update) {\n      context.commit(\"updateCell\", update)\n    },\n    updateImages (context, update) {\n      context.commit(\"updateImages\", update)\n    },\n    updateSize (context, size) {\n      context.commit(\"updateSize\", size)\n    },\n    updateColor (context, color) {\n      context.commit(\"updateColor\", color)\n    },\n    updateAlpha (context, alpha) {\n      context.commit(\"updateAlpha\", alpha)\n    }\n  },\n  getters: {\n    tiles (state) {\n      return state.size * state.size\n    },\n    complementary_color (state) {\n      return new Color(state.color).mix(Color(\"darkblue\")).hex()\n    },\n    color (state) {\n      return new Color(state.color).alpha(state.alpha/100).hexa()\n    }\n  }\n})\n","import { render } from \"./GridCell.vue?vue&type=template&id=1ac90d67&scoped=true&ts=true\"\nimport script from \"./GridCell.vue?vue&type=script&lang=ts\"\nexport * from \"./GridCell.vue?vue&type=script&lang=ts\"\n\nimport \"./GridCell.vue?vue&type=style&index=0&id=1ac90d67&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-1ac90d67\"]])\n\nexport default __exports__","import { renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, withModifiers as _withModifiers, createElementVNode as _createElementVNode, normalizeClass as _normalizeClass, vModelText as _vModelText, withDirectives as _withDirectives, createCommentVNode as _createCommentVNode, resolveComponent as _resolveComponent, createBlock as _createBlock, createVNode as _createVNode, vShow as _vShow, createTextVNode as _createTextVNode, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-3098bb92\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = {\n  class: \"field\",\n  id: \"search\"\n}\nconst _hoisted_2 = { class: \"tabs is-small\" }\nconst _hoisted_3 = [\"onClick\"]\nconst _hoisted_4 = { class: \"tabs is-small\" }\nconst _hoisted_5 = [\"onClick\"]\nconst _hoisted_6 = { class: \"control\" }\nconst _hoisted_7 = [\"placeholder\"]\nconst _hoisted_8 = {\n  key: 0,\n  class: \"progress is-small is-info\"\n}\nconst _hoisted_9 = {\n  key: 1,\n  id: \"results\"\n}\nconst _hoisted_10 = { key: 2 }\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _component_Cropper = _resolveComponent(\"Cropper\")!\n  const _component_ion_icon = _resolveComponent(\"ion-icon\")!\n\n  return (_openBlock(), _createElementBlock(_Fragment, null, [\n    _createElementVNode(\"div\", _hoisted_1, [\n      _createElementVNode(\"div\", _hoisted_2, [\n        _createElementVNode(\"ul\", null, [\n          (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.apiNames, (api) => {\n            return (_openBlock(), _createElementBlock(\"li\", {\n              key: api,\n              class: _normalizeClass({'is-active': _ctx.currentApi === api})\n            }, [\n              _createElementVNode(\"a\", {\n                class: \"first-capitalized\",\n                href: \"#\",\n                onClick: _withModifiers(($event: any) => (_ctx.changeApi(api)), [\"prevent\"])\n              }, _toDisplayString(api), 9, _hoisted_3)\n            ], 2))\n          }), 128))\n        ])\n      ]),\n      _createElementVNode(\"div\", _hoisted_4, [\n        _createElementVNode(\"ul\", null, [\n          (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.tabs, (tab) => {\n            return (_openBlock(), _createElementBlock(\"li\", {\n              key: tab,\n              class: _normalizeClass({'is-active': _ctx.currentTab === tab})\n            }, [\n              _createElementVNode(\"a\", {\n                class: \"first-capitalized\",\n                href: \"#\",\n                onClick: _withModifiers(($event: any) => (_ctx.changeTab(tab)), [\"prevent\"])\n              }, _toDisplayString(tab), 9, _hoisted_5)\n            ], 2))\n          }), 128))\n        ])\n      ]),\n      _createElementVNode(\"div\", _hoisted_6, [\n        _withDirectives(_createElementVNode(\"input\", {\n          class: \"input\",\n          placeholder: 'Search ' + _ctx.currentTab + ' or drag and drop images here',\n          autocomplete: \"off\",\n          \"onUpdate:modelValue\": _cache[0] || (_cache[0] = ($event: any) => ((_ctx.query) = $event)),\n          type: \"text\",\n          id: \"name\",\n          name: \"name\",\n          onDragenter: _cache[1] || (_cache[1] = _withModifiers(() => {}, [\"prevent\"])),\n          onDragover: _cache[2] || (_cache[2] = _withModifiers(() => {}, [\"prevent\"])),\n          onDrop: _cache[3] || (_cache[3] = _withModifiers(\n//@ts-ignore\n(...args) => (_ctx.handleDrop && _ctx.handleDrop(...args)), [\"prevent\"]))\n        }, null, 40, _hoisted_7), [\n          [_vModelText, _ctx.query]\n        ])\n      ])\n    ]),\n    (_ctx.loading)\n      ? (_openBlock(), _createElementBlock(\"progress\", _hoisted_8))\n      : (_ctx.results.length)\n        ? (_openBlock(), _createElementBlock(\"div\", _hoisted_9, [\n            (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.results, (result) => {\n              return (_openBlock(), _createBlock(_component_Cropper, {\n                onSelected: ($event: any) => (_ctx.selected = result),\n                key: result.mal_id,\n                result: result\n              }, null, 8, [\"onSelected\", \"result\"]))\n            }), 128))\n          ]))\n        : _createCommentVNode(\"\", true),\n    _withDirectives(_createElementVNode(\"a\", {\n      href: \"#\",\n      onClick: _cache[4] || (_cache[4] = _withModifiers(\n//@ts-ignore\n(...args) => (_ctx.goBack && _ctx.goBack(...args)), [\"prevent\"]))\n    }, [\n      _createVNode(_component_ion_icon, {\n        size: \"large\",\n        name: \"arrow-undo-outline\"\n      })\n    ], 512), [\n      [_vShow, _ctx.showing_more]\n    ]),\n    (!_ctx.has_show_more && _ctx.selected)\n      ? (_openBlock(), _createElementBlock(\"span\", _hoisted_10, _toDisplayString(_ctx.selected.title), 1))\n      : (!_ctx.showing_more && _ctx.selected)\n        ? (_openBlock(), _createElementBlock(\"a\", {\n            key: 3,\n            href: \"#\",\n            onClick: _cache[5] || (_cache[5] = _withModifiers(($event: any) => (_ctx.showMore(_ctx.currentTab)), [\"prevent\"]))\n          }, [\n            _createTextVNode(\"Show more of \"),\n            _createElementVNode(\"b\", null, _toDisplayString(_ctx.selected.title), 1)\n          ]))\n        : _createCommentVNode(\"\", true)\n  ], 64))\n}","<template>\n    <div class=\"field\" id=\"search\">\n    <div class=\"tabs is-small\">\n    <ul>\n      <li v-for=\"api in apiNames\" :key=api :class=\"{'is-active': currentApi === api}\">\n        <a class=\"first-capitalized\" href=\"#\" @click.prevent=\"changeApi(api)\">{{api}}</a>\n      </li>\n    </ul>\n    </div>\n    <div class=\"tabs is-small\">\n    <ul>\n      <li v-for=\"tab in tabs\" :key=tab :class=\"{'is-active': currentTab === tab}\">\n        <a class=\"first-capitalized\" href=\"#\" @click.prevent=\"changeTab(tab)\">{{tab}}</a>\n      </li>\n    </ul>\n    </div>\n    <div class=\"control\">\n      <input class=\"input\" :placeholder=\"'Search ' + currentTab + ' or drag and drop images here'\" autocomplete=\"off\" v-model=\"query\"\n        type=\"text\" id=\"name\" name=\"name\" @dragenter.prevent @dragover.prevent @drop.prevent=\"handleDrop\">\n    </div>\n    </div>\n    <progress v-if=\"loading\" class=\"progress is-small is-info\" />\n    <div id=\"results\" v-else-if=\"results.length\">\n      <Cropper @selected='selected = result' v-for=\"result in results\" :key=\"result.mal_id\" :result='result' />\n    </div>\n    <a v-show='showing_more' href=\"#\" @click.prevent=\"goBack\"><ion-icon size=\"large\" name=\"arrow-undo-outline\"></ion-icon></a>\n    <span v-if='!has_show_more && selected'>{{selected.title}}</span>\n    <a v-else-if='!showing_more && selected' href=\"#\" @click.prevent=\"showMore(currentTab)\">Show more of <b>{{selected.title}}</b></a>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent } from \"vue\"\nimport Cropper from \"./ImgCropper.vue\"\nimport Api from \"../api\"\n\nexport default defineComponent({\n  components: {\n    Cropper\n  },\n  setup () {\n    return { ...Api }\n  }\n})\n</script>\n\n<style scoped>\ndiv#search {\n    width: 400px;\n    margin: 10px auto;\n}\n\ndiv#results {\n  height: 220px;\n  overflow-x: auto;\n  display: flex;\n  max-width: 80%;\n  margin: 10px auto;\n}\n\n@media (max-width: 600px) {\n  div#results {\n    padding-bottom: 1.5rem\n  }\n}\n\nimg.result {\n  padding: 1px;\n  cursor: pointer;\n  display: block;\n  max-width: 100%;\n}\n\na.first-capitalized {\n  display: block;\n}\na.first-capitalized:first-letter {\n  text-transform: uppercase;\n}\n</style>\n","import { openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, resolveComponent as _resolveComponent, normalizeClass as _normalizeClass, createVNode as _createVNode, Fragment as _Fragment, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-57493756\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = [\"src\", \"title\"]\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _component_VueCropper = _resolveComponent(\"VueCropper\")!\n\n  return (_openBlock(), _createElementBlock(_Fragment, null, [\n    (!_ctx.clicked)\n      ? (_openBlock(), _createElementBlock(\"img\", {\n          key: 0,\n          onClick: _cache[0] || (_cache[0] = \n//@ts-ignore\n(...args) => (_ctx.showCropper && _ctx.showCropper(...args))),\n          src: _ctx.result.image_url,\n          title: _ctx.result.title,\n          class: \"image-result\"\n        }, null, 8, _hoisted_1))\n      : _createCommentVNode(\"\", true),\n    _createVNode(_component_VueCropper, {\n      class: _normalizeClass({'hidden': !_ctx.clicked}),\n      onReady: _ctx.ready,\n      onCropend: _ctx.cropend,\n      ref: \"cropper\",\n      title: _ctx.result.title,\n      src: _ctx.result.image_url,\n      rotatable: false,\n      scalable: false,\n      zoomable: false,\n      viewMode: 1,\n      aspectRatio: 1,\n      minCropBoxWidth: 200,\n      minCropBoxHeight: 200,\n      checkCrossOrigin: false\n    }, null, 8, [\"class\", \"onReady\", \"onCropend\", \"title\", \"src\"])\n  ], 64))\n}","<template>\n  <img v-if=\"!clicked\" @click=\"showCropper\" :src=\"result.image_url\" :title=\"result.title\" class=\"image-result\" />\n  <VueCropper :class=\"{'hidden': !clicked}\" @ready=\"ready\" @cropend=\"cropend\" ref=\"cropper\"\n    :title=\"result.title\" :src=\"result.image_url\"\n    :rotatable=\"false\" :scalable=\"false\" :zoomable=\"false\" :viewMode=\"1\" :aspectRatio=\"1\" :minCropBoxWidth=\"200\" :minCropBoxHeight=\"200\" :checkCrossOrigin=\"false\"\n  />\n</template>\n\n<script lang=\"ts\">\nimport \"cropperjs/dist/cropper.css\"\nimport { ref, onUnmounted, defineComponent, PropType } from \"vue\"\nimport { useStore } from \"../store\"\nimport VueCropper, { VueCropperMethods } from \"vue-cropperjs\"\nimport { SearchResult } from \"../types\"\nimport { downscaleImage } from \"../image\"\n\nexport default defineComponent({\n  components: {\n    VueCropper\n  },\n  props: {\n    result: {\n      required: true,\n      type: Object as PropType<SearchResult>\n    }\n  },\n  emits: [\"selected\"],\n  setup (props, { emit }) {\n    const cropper = ref<VueCropperMethods|null>(null)\n    const store = useStore()\n    const clicked = ref(false)\n\n    onUnmounted(() => (cropper.value as VueCropperMethods)?.destroy())\n    const ready = () => (cropper.value as VueCropperMethods)?.zoomTo(0.5)\n\n    const cropend = () => {\n      const { x, y, width, height } = (cropper.value as VueCropperMethods)?.getData()\n      const img = new Image()\n      img.onload = async () => {\n        const canvas = document.createElement(\"canvas\")\n        canvas.width = width\n        canvas.height = height\n        const ctx = canvas.getContext(\"2d\")\n        ctx?.drawImage(img, x, y, width, height, 0, 0, width, height)\n        const imageSize = 200\n        const downscaled = await downscaleImage(await createImageBitmap(canvas), imageSize)\n        const downscale_canvas = document.createElement(\"canvas\")\n        downscale_canvas.width = downscaled.width\n        downscale_canvas.height = downscaled.height\n        downscale_canvas.getContext(\"bitmaprenderer\")?.transferFromImageBitmap(downscaled)\n        store.dispatch(\"updateCell\", {\n          image: downscale_canvas.toDataURL(\"image/png\"),\n          title: props.result.title,\n          bitmap: await createImageBitmap(canvas, 0, 0, width, height)\n        })\n      }\n      img.crossOrigin = \"Anonymous\"\n      img.src = props.result.image_url\n      emit(\"selected\", props.result)\n    }\n\n    const showCropper = () => {\n      clicked.value = true\n      cropend()\n    }\n\n    return { cropper, ready, cropend, clicked, showCropper }\n  }\n})\n</script>\n\n<style scoped>\n.hidden {\n  visibility: hidden;\n  width: 0;\n}\n\n.image-result {\n  cursor: pointer;\n}\n</style>\n","import { Upscaler } from \"upscalejs\"\nimport \"jimp\"\n// eslint-disable-next-line\nconst { Jimp } = window as any\n\nconst resizeBitmap = async (bitmap: ImageBitmap, targetSize: number): Promise<Blob> => {\n  const canvas = document.createElement(\"canvas\")\n  canvas.width = bitmap.width\n  canvas.height = bitmap.height\n  const ctx = canvas.getContext(\"2d\")\n  if (!ctx) throw Error(\"couldn't get canvas context\")\n\n  ctx.drawImage(bitmap, 0, 0);\n  const imageData = ctx.getImageData(0, 0, canvas.width, canvas.height);\n  const image = await Jimp.read(imageData);\n\n  image.resize(parseInt(`${targetSize}`), parseInt(`${targetSize}`));\n  const resizedBuffer = await image.getBufferAsync(Jimp.MIME_PNG);\n\n  return new Blob([resizedBuffer], {type: Jimp.MIME_PNG});\n}\n\nexport const scaleImage = async (bitmap: ImageBitmap, targetSize: number, workerPool: Upscaler): Promise<ImageBitmap> => {\n  const min = Math.min(bitmap.width, bitmap.height)\n  if (min > targetSize) {\n    return downscaleImage(bitmap, targetSize)\n  }\n  if (min < targetSize) {\n    const blob = await resizeBitmap(bitmap, 200)\n    return upscaleImage(blob, workerPool)\n  }\n  // min === targetSize\n  return Promise.resolve(bitmap)\n}\n\nexport const downscaleImage = async (source: ImageBitmap, targetSize: number): Promise<ImageBitmap> => {\n  const resized = await resizeBitmap(source, targetSize)\n  return createImageBitmap(resized, 0, 0, targetSize, targetSize)\n}\n\nconst upscaleImage = async (canvas: HTMLCanvasElement | Blob, workerPool: Upscaler) : Promise<ImageBitmap> => {\n  return createImageBitmap(await workerPool.upscale(await createImageBitmap(canvas)))\n}\n\nexport default {\n  downscaleImage,\n  scaleImage\n}\n","import { render } from \"./ImgCropper.vue?vue&type=template&id=57493756&scoped=true&ts=true\"\nimport script from \"./ImgCropper.vue?vue&type=script&lang=ts\"\nexport * from \"./ImgCropper.vue?vue&type=script&lang=ts\"\n\nimport \"./ImgCropper.vue?vue&type=style&index=0&id=57493756&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-57493756\"]])\n\nexport default __exports__","import { SearchResult } from \"../types\"\n\nexport abstract class API<APIResult> {\n  protected last_id = 0\n  readonly has_show_more: boolean = false\n  readonly abstract name: string\n  readonly abstract tabs: string[]\n\n  protected abstract fetchURL(tab: string, query: string): { url: string, options?: RequestInit }\n  protected abstract processResult(result: APIResult, tab: string): SearchResult[]\n\n  protected denormalizeTab(tab: string): string {\n    return tab == \"character\" ? \"characters\" : tab\n  }\n\n  public async search(query: string, tab: string): Promise<SearchResult[]> {\n    if (query.length < 3) {\n      return []\n    }\n    const id = ++this.last_id\n    const { url, options } = this.fetchURL(tab, query)\n    const resp = await fetch(url, options)\n    const data = await resp.json()\n    if (this.last_id > id) return []\n    const results = this.processResult(data, tab)\n    return this.filterValidResults(results)\n  }\n\n  protected async filterValidResults(results: SearchResult[]): Promise<SearchResult[]> {\n    const valid_results = new WeakSet<SearchResult>()\n    const image_set = new Set()\n    await Promise.all(results.map(async result => {\n      try {\n        const url = new URL(result.image_url)\n        if (image_set.has(result.image_url)) return\n        image_set.add(result.image_url)\n        const head = await fetch(url.toString(), {\n          method: \"HEAD\"\n        })\n        if (head.status === 200) {\n          valid_results.add(result)\n        }\n      } catch (e) {\n        console.warn(e)\n      }\n    }))\n    return results.filter(result => valid_results.has(result))\n  }\n}\n\nexport abstract class APIWithShowMore<APIResult, APIShowMoreResult> extends API<APIResult> {\n  readonly has_show_more = true\n\n  protected abstract showMoreURL({} : { tab?: string, selected: SearchResult }): { url: string }\n  protected abstract processShowMoreResult({} : { result: APIShowMoreResult, selected: SearchResult }) : SearchResult[]\n\n  public async showMore({ tab, selected } : { tab: string, selected: SearchResult}): Promise<SearchResult[]> {\n    const id = ++this.last_id\n    const { url } = this.showMoreURL({ tab, selected })\n    const resp = await fetch(url)\n    const result = await resp.json()\n    if (this.last_id > id) return []\n    const results = this.processShowMoreResult({ result, selected })\n    return this.filterValidResults(results)\n  }\n}","\nexport const proxyImage = (image: string): string => {\n  const b64Url = btoa(image).replaceAll(\"+\", \"-\").replaceAll(\"/\", \"_\").replaceAll(\"=\", \"\")\n  return `https://itglxlolghqb6pboiyhguhbmtm0tsqli.lambda-url.us-east-1.on.aws/?url=${b64Url}`\n}\n\nexport default {\n  proxyImage\n}","import { SearchResult } from \"../types\"\nimport { API } from \"./api\"\nimport { proxyImage } from \"../proxy\"\n\n// https://kitsu.docs.apiary.io/\n\ninterface APIResult {\n  data: MediaData[] | CharacterData[]\n}\n\ninterface MediaData {\n  id: number\n  attributes: {\n    titles: {\n      en_jp: string\n    }\n    posterImage: {\n      medium: string\n      large: string\n      original: string\n    }\n  }\n}\n\ninterface CharacterData {\n  id: number\n  attributes: {\n    names: {\n      en: string\n    }\n    image?: {\n      original: string\n    }\n  }\n}\n\nconst params = (tab: string, query: string): string => {\n  switch(tab) {\n    case \"characters\":\n      return `fields[${tab}]=names,image&filter[name]=${query}`\n    default:\n      return `fields[${tab}]=titles,posterImage&filter[text]=${query}`\n  }\n}\n\nexport default class Kitsu extends API<APIResult> {\n  readonly name = \"kitsu\"\n  readonly tabs = [\"anime\", \"manga\", \"character\"]\n\n  fetchURL(tab: string, query: string): { url: string } {\n    tab = this.denormalizeTab(tab)\n    return {\n      url: `https://kitsu.io/api/edge/${tab}?${params(tab, encodeURI(query))}`\n    }\n  }\n  processResult(result: APIResult): SearchResult[] {\n    return (result.data ?? []).map((result: MediaData | CharacterData) => {\n      return {\n        mal_id: result.id,\n        title: isMediaData(result) ? result.attributes.titles.en_jp : result.attributes.names.en,\n        image_url: (isMediaData(result) ? (result.attributes.posterImage.original || result.attributes.posterImage.large) : result.attributes?.image?.original ?? \"\")\n      }\n    }).filter(result => result.image_url.length)\n      .map(result => {\n        return  {\n          ...result,\n          image_url: proxyImage(result.image_url)\n        }\n      })\n  }\n}\n\nconst isMediaData = (data: MediaData | CharacterData): data is MediaData => {\n  return (data as MediaData).attributes.titles !== undefined\n}","import { SearchResult } from \"../types\"\nimport { API } from \"./api\"\nimport { proxyImage } from \"../proxy\"\n\n// https://anilist.github.io/ApiV2-GraphQL-Docs/\n\ninterface APIMediaResult {\n  id: number\n  coverImage: {\n    extraLarge: string\n  }\n  title: {\n    romaji: string\n  }\n}\n\ninterface APICharacterResult {\n  id: number\n  name: {\n    full: string\n  }\n  image: {\n    large: string\n  }\n}\n\ninterface APIResult {\n  data: {\n    Page: {\n      media: APIMediaResult[]\n      characters: APICharacterResult[]\n    }\n  }\n}\n\nexport default class Anilist extends API<APIResult> {\n  readonly name = \"anilist\"\n  readonly tabs = [\"anime\", \"manga\", \"character\"]\n\n  fetchURL(tab: string, query: string): { url: string, options: RequestInit } {\n    const variables = {\n      search: query,\n      page: 1,\n      type: tab.toUpperCase(),\n      perPage: 15\n    }\n    const options = {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Accept: \"application/json\"\n      },\n      body: JSON.stringify({\n        query: queries[tab],\n        variables: variables\n      })\n    }\n    return {\n      url: \"https://graphql.anilist.co\",\n      options\n    }\n  }\n  processResult(result: APIResult, tab: string): SearchResult[] {\n    if (tab === \"character\") return parseCharacters(result?.data?.Page?.characters)\n    return parseMedia(result?.data?.Page?.media)\n  }\n}\n\nconst mediaQuery = `query ($id: Int, $page: Int, $perPage: Int, $search: String, $type: MediaType) {\n    Page (page: $page, perPage: $perPage) {\n      media (id: $id, search: $search, type: $type) {\n        id\n        type\n        title {\n          romaji\n        }\n        coverImage {\n            extraLarge\n        }\n      }\n    }\n  }`\n\nconst characterQuery = `query ($id: Int, $page: Int, $perPage: Int, $search: String) {\n    Page (page: $page, perPage: $perPage) {\n      characters (id: $id, search: $search) {\n        id\n        name {\n          full\n        }\n        image {\n            large\n        }\n      }\n    }\n  }`\n\nconst queries: { [key: string]: string } = {\n  anime: mediaQuery,\n  manga: mediaQuery,\n  character: characterQuery\n}\n\nconst parseCharacters = (characters?: APICharacterResult[]): SearchResult[] => {\n  if (!characters) return []\n  return characters.filter(result => result.image.large.length).map(result => {\n    return {\n      mal_id: result.id,\n      title: result.name.full,\n      image_url: proxyImage(result.image.large)\n    }\n  })\n}\n\nconst parseMedia = (media?: APIMediaResult[]): SearchResult[] => {\n  if (!media) return []\n  return media.filter(result => result.coverImage.extraLarge.length).map(result => {\n    return {\n      mal_id: result.id,\n      title: result.title.romaji,\n      image_url: proxyImage(result.coverImage.extraLarge)\n    }\n  })\n}","import { SearchResult } from \"../types\"\nimport { APIWithShowMore } from \"./api\"\n\n// https://jikan.docs.apiary.io/\n\ninterface Image {\n  jpg: {\n    image_url: string\n    large_image_url: string\n  }\n}\n\ninterface Data {\n  mal_id: number\n  title: string\n  images: Image\n  name: string // for characters\n}\n\ninterface APIResult {\n  data: Data[]\n}\n\ninterface APIShowMoreResult {\n  data: Image[]\n}\n\nexport default class Jikan extends APIWithShowMore<APIResult, APIShowMoreResult> {\n  readonly name = \"jikan\"\n  readonly tabs = [\"anime\", \"manga\", \"character\"]\n\n  fetchURL(tab: string, query: string): { url: string } {\n    tab = this.denormalizeTab(tab)\n    return {\n      url: `https://api.jikan.moe/v4/${tab}?limit=15&sort=desc&order_by=favorites&q=${encodeURI(query)}`\n    }\n  }\n  processResult(result: APIResult): SearchResult[] {\n    return (result.data ?? []).map((result: Data) => {\n      return {\n        mal_id: result.mal_id,\n        title: result.title || result.name,\n        image_url: result.images.jpg.large_image_url || result.images.jpg.image_url\n      }\n    })\n  }\n  showMoreURL({ tab, selected } : { tab: string, selected: SearchResult }): { url: string } {\n    tab = this.denormalizeTab(tab)\n    return {\n      url: `https://api.jikan.moe/v4/${tab}/${selected.mal_id}/pictures`\n    }\n  }\n\n  processShowMoreResult({ result, selected } : { result: APIShowMoreResult, selected: SearchResult }) : SearchResult[] {\n    return (result?.data ?? []).map((image: Image) => {\n      return {\n        mal_id: Math.random(),\n        title: selected.title,\n        image_url: image.jpg.large_image_url || image.jpg.image_url\n      }\n    })\n  }\n}\n","import { SearchResult } from \"../types\"\nimport { API } from \"./api\"\n\ninterface APIResult {\n  results: {\n    albummatches: {\n      album: Album[]\n    }\n  }\n}\n\ninterface Album {\n  name: string\n  artist: string\n  image: Image[]\n}\n\ninterface Image {\n  \"#text\": string\n  size: string\n}\n\nexport default class LastFM extends API<APIResult> {\n  readonly name = \"last.fm\"\n  readonly tabs = [\"albums\"]\n\n  fetchURL(tab: string, query: string): { url: string } {\n    return {\n      url: `https://ws.audioscrobbler.com/2.0?method=album.search&album=${encodeURI(query)}&api_key=dc639df7a8d4027a6f8d66ba3f9eb0a2&format=json`,\n    }\n  }\n  processResult(result: APIResult): SearchResult[] {\n    return (result?.results?.albummatches.album ?? []).map((result: Album) => {\n      return {\n        mal_id: Math.random(),\n        title: `${result.artist} - ${result.name}`,\n        image_url: result.image\n          .filter(image => image.size === \"extralarge\")\n          .shift()?.[\"#text\"]\n          .replace(\"300x300\", \"400x400\") ?? \"\"\n      }\n    }).slice(0, 15)\n  }\n}\n","import { SearchResult } from \"../types\"\nimport { APIWithShowMore } from \"./api\"\nimport { proxyImage } from \"../proxy\"\n\n// https://www.giantbomb.com/api/documentation/\n\nconst api_key = \"c2238d2e85d4c7b3f18aa58e114ce4e5c6ff808f\"\n\ninterface APIResult {\n  results: Result[]\n}\n\ninterface Result {\n  id: number\n  guid: string\n  name: string\n  image: Image\n}\n\ninterface Image {\n  original_url: string\n}\n\ninterface APIShowMoreResult {\n  results: Image[]\n}\n\nexport default class GiantBomb extends APIWithShowMore<APIResult, APIShowMoreResult> {\n  readonly name = \"giantbomb\"\n  readonly tabs = [\"game\", \"character\"]\n\n  fetchURL(tab: string, query: string): { url: string } {\n    return {\n      url: proxyImage(`https://www.giantbomb.com/api/search/?api_key=${api_key}&resources=${tab}&query=${encodeURI(query)}&format=json&field_list=id,name,image,guid`)\n    }\n  }\n\n  processResult(result: APIResult): SearchResult[] {\n    return (result?.results ?? []).filter(result => result.image.original_url.length).map((result: Result) => {\n      return {\n        guid: result.guid,\n        mal_id: result.id,\n        title: result.name,\n        image_url: proxyImage(result.image.original_url)\n      }\n    })\n  }\n\n  showMoreURL({ selected } : { selected: SearchResult } ) : { url: string } {\n    return {\n      url: proxyImage(`https://www.giantbomb.com/api/images/${selected.guid}/?api_key=${api_key}&format=json&limit=30`)\n    }\n  }\n\n  processShowMoreResult({ result, selected } : { result: APIShowMoreResult, selected: SearchResult }) : SearchResult[] {\n    return (result?.results ?? []).filter(result => result.original_url.length).map((image: Image) => {\n      return {\n        mal_id: Math.random(),\n        title: selected.title,\n        image_url: proxyImage(image.original_url)\n      }\n    })\n  }\n}\n","import { watch, ref } from \"vue\"\nimport { SearchResult } from \"../types\"\nimport debounce from \"lodash.debounce\"\nimport Kitsu from \"./kitsu\"\nimport Anilist from \"./anilist\"\nimport Jikan from \"./jikan\"\nimport LastFM from \"./lastfm\"\nimport GiantBomb from \"./giantbomb\"\nimport { API, APIWithShowMore } from \"./api\"\n\nconst apis = [new Kitsu(), new Jikan(), new Anilist(), new LastFM(), new GiantBomb()]\nconst apisMap = new Map<string, API<unknown>>()\n\napis.forEach(api => {\n  apisMap.set(api.name, api)\n})\n\nconst apiFromString = (name: string): API<unknown> => {\n  const api = apisMap.get(name)\n  if (!api) {\n    throw Error(\"api not found\")\n  }\n  return api\n}\n\nconst storage_api = localStorage.getItem(\"api\") || \"anilist\"\nconst api_exists = apis.some(api => {return api.name == storage_api })\nconst used_api = api_exists ? storage_api : apis[0].name\n\nlet api: API<unknown> = apiFromString(used_api)\nlet lastQuery = \"\"\n\nconst apiNames = apis.map(api => api.name)\nconst currentApi = ref(used_api)\nconst query = ref(\"\")\nconst currentTab = ref(api.tabs[0])\nconst loading = ref(false)\nconst results = ref<SearchResult[]>([])\nconst tabs = ref(api.tabs)\nconst has_show_more = ref(api.has_show_more)\nconst showing_more = ref(false)\nconst selected = ref<SearchResult|null>(null)\n\nconst search = debounce(async (query: string, tab: string): Promise<void> => {\n  loading.value = true\n  showing_more.value = false\n  selected.value = null\n  has_show_more.value = api.has_show_more\n  results.value = await api.search(query, tab)\n  loading.value = false\n}, 500)\n\nconst changeTab = async (newtab: string): Promise<void> => {\n  currentTab.value = newtab\n  await search(lastQuery, newtab)\n}\n\nwatch(currentApi, (api) => {\n  localStorage.setItem(\"api\", api)\n})\n\nwatch(query, async (query) => {\n  lastQuery = query\n  await search(query, currentTab.value)\n})\n\nconst changeApi = async (newApi: string): Promise<void> => {\n  selected.value = null\n  currentApi.value = newApi\n  api = apiFromString(newApi)\n  tabs.value = api.tabs\n  has_show_more.value = api.has_show_more\n  if (!api.tabs.includes(currentTab.value)) {\n    currentTab.value = api.tabs[0]\n  }\n  await search(lastQuery, currentTab.value)\n}\n\nconst showMore = async (tab: string): Promise<void> => {\n  if (selected.value == null) return\n  results.value = await (api as APIWithShowMore<unknown, unknown>).showMore({ tab, selected: selected.value })\n  showing_more.value = true\n}\n\nconst goBack = async (): Promise<void> => {\n  await search(lastQuery, currentTab.value)\n}\n\nconst handleDrop = (event: DragEvent) => {\n  const files = event.dataTransfer?.files\n  if (!files) return\n  const dropped: SearchResult[] = []\n  for (let i = 0; i < files.length; i++) {\n    const file = files.item(i) as File\n    dropped.push({\n      mal_id: Math.random(),\n      title: file.name,\n      image_url: URL.createObjectURL(file),\n    })\n  }\n  results.value = dropped\n  has_show_more.value = false\n  showing_more.value = false\n}\n\nexport default {\n  apis,\n  apiNames,\n  currentApi,\n  changeApi,\n  tabs,\n  currentTab,\n  changeTab,\n  loading,\n  query,\n  results,\n  has_show_more,\n  showing_more,\n  selected,\n  showMore,\n  goBack,\n  handleDrop\n}\n","import { render } from \"./SearchItem.vue?vue&type=template&id=3098bb92&scoped=true&ts=true\"\nimport script from \"./SearchItem.vue?vue&type=script&lang=ts\"\nexport * from \"./SearchItem.vue?vue&type=script&lang=ts\"\n\nimport \"./SearchItem.vue?vue&type=style&index=0&id=3098bb92&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-3098bb92\"]])\n\nexport default __exports__","import { openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, Fragment as _Fragment, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-0453e41a\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = [\"value\"]\nconst _hoisted_2 = {\n  class: \"container is-max-desktop\",\n  id: \"bottom\"\n}\nconst _hoisted_3 = { class: \"columns is-gapless\" }\nconst _hoisted_4 = { key: 0 }\nconst _hoisted_5 = { key: 1 }\nconst _hoisted_6 = { class: \"column\" }\nconst _hoisted_7 = { key: 0 }\nconst _hoisted_8 = [\"value\"]\nconst _hoisted_9 = [\"value\"]\nconst _hoisted_10 = { class: \"column\" }\nconst _hoisted_11 = {\n  href: \"https://github.com/gqgs/3x3-generator\",\n  target: \"_blank\"\n}\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _component_DropDown = _resolveComponent(\"DropDown\")!\n  const _component_ion_icon = _resolveComponent(\"ion-icon\")!\n\n  return (_openBlock(), _createElementBlock(_Fragment, null, [\n    (_ctx.processing)\n      ? (_openBlock(), _createElementBlock(\"progress\", {\n          key: 0,\n          class: \"progress is-small is-primary my-4\",\n          value: _ctx.progress,\n          max: \"100\"\n        }, null, 8, _hoisted_1))\n      : _createCommentVNode(\"\", true),\n    _createElementVNode(\"div\", _hoisted_2, [\n      _createElementVNode(\"div\", _hoisted_3, [\n        _createVNode(_component_DropDown, {\n          class: \"column\",\n          options: ['200', '400'],\n          onClicked: _cache[0] || (_cache[0] = ($event: any) => (_ctx.cellSize = $event))\n        }, {\n          selected: _withCtx(() => [\n            _createElementVNode(\"span\", null, _toDisplayString(_ctx.size*_ctx.cellSize) + \"x\" + _toDisplayString(_ctx.size*_ctx.cellSize), 1)\n          ]),\n          option: _withCtx((slotProps) => [\n            _createTextVNode(_toDisplayString(_ctx.size*parseInt(slotProps.option)) + \"x\" + _toDisplayString(_ctx.size*parseInt(slotProps.option)), 1)\n          ]),\n          _: 1\n        }),\n        _createVNode(_component_DropDown, {\n          class: \"column\",\n          options: ['no-denoise', 'conservative', 'denoise1x', 'denoise2x', 'denoise3x', 'pro-no-denoise', 'pro-conservative', 'pro-denoise3x'],\n          onClicked: _cache[1] || (_cache[1] = ($event: any) => (_ctx.denoise = $event)),\n          disabled: _ctx.cellSize == 200\n        }, {\n          selected: _withCtx(() => [\n            _createElementVNode(\"span\", null, _toDisplayString(_ctx.denoise), 1)\n          ]),\n          option: _withCtx((slotProps) => [\n            _createTextVNode(_toDisplayString(slotProps.option), 1)\n          ]),\n          _: 1\n        }, 8, [\"disabled\"]),\n        _createVNode(_component_DropDown, {\n          class: \"column\",\n          options: _ctx.workerList,\n          onClicked: _cache[2] || (_cache[2] = ($event: any) => (_ctx.workers = $event)),\n          title: \"Max number of workers used when upscaling images\",\n          disabled: _ctx.cellSize == 200\n        }, {\n          selected: _withCtx(() => [\n            _createElementVNode(\"span\", null, _toDisplayString(_ctx.workers), 1)\n          ]),\n          option: _withCtx((slotProps) => [\n            _createTextVNode(\" Upscale workers: \" + _toDisplayString(slotProps.option), 1)\n          ]),\n          _: 1\n        }, 8, [\"options\", \"disabled\"]),\n        _createVNode(_component_DropDown, {\n          class: \"column\",\n          options: ['image/jpeg', 'image/png', 'image/webp'],\n          onClicked: _cache[3] || (_cache[3] = ($event: any) => (_ctx.download($event)))\n        }, {\n          selected: _withCtx(() => [\n            (_ctx.processing)\n              ? (_openBlock(), _createElementBlock(\"span\", _hoisted_4, _toDisplayString(_ctx.progress_msg), 1))\n              : (_openBlock(), _createElementBlock(\"span\", _hoisted_5, \"Download\"))\n          ]),\n          option: _withCtx((slotProps) => [\n            _createTextVNode(\" Download (\" + _toDisplayString(slotProps.option) + \") \", 1)\n          ]),\n          _: 1\n        }),\n        _createVNode(_component_DropDown, {\n          class: \"column\",\n          options: ['2', '3', '4', '5'],\n          onClicked: _cache[4] || (_cache[4] = ($event: any) => (_ctx.updateSize($event)))\n        }, {\n          selected: _withCtx(() => [\n            _createElementVNode(\"span\", null, _toDisplayString(_ctx.size) + \"x\" + _toDisplayString(_ctx.size), 1)\n          ]),\n          option: _withCtx((slotProps) => [\n            _createTextVNode(_toDisplayString(slotProps.option) + \"x\" + _toDisplayString(slotProps.option), 1)\n          ]),\n          _: 1\n        }),\n        _createElementVNode(\"div\", _hoisted_6, [\n          _createElementVNode(\"button\", {\n            class: \"button is-small\",\n            onClick: _cache[5] || (_cache[5] = ($event: any) => (_ctx.select_color = !_ctx.select_color))\n          }, \"Border\"),\n          (_ctx.select_color)\n            ? (_openBlock(), _createElementBlock(\"div\", _hoisted_7, [\n                _createElementVNode(\"input\", {\n                  class: \"button is-small\",\n                  type: \"color\",\n                  id: \"color\",\n                  value: _ctx.color,\n                  onInput: _cache[6] || (_cache[6] = ($event: any) => (_ctx.updateColor($event)))\n                }, null, 40, _hoisted_8),\n                _createElementVNode(\"input\", {\n                  class: \"is-small\",\n                  type: \"range\",\n                  value: _ctx.alpha,\n                  onInput: _cache[7] || (_cache[7] = ($event: any) => (_ctx.updateAlpha($event)))\n                }, null, 40, _hoisted_9)\n              ]))\n            : _createCommentVNode(\"\", true)\n        ]),\n        _createElementVNode(\"div\", _hoisted_10, [\n          _createElementVNode(\"a\", _hoisted_11, [\n            _createVNode(_component_ion_icon, {\n              class: \"pt-3\",\n              id: \"github\",\n              name: \"logo-octocat\"\n            })\n          ])\n        ])\n      ])\n    ])\n  ], 64))\n}","<template>\n    <progress v-if=\"processing\" class=\"progress is-small is-primary my-4\" :value=\"progress\" max=\"100\" />\n    <div class=\"container is-max-desktop\" id=\"bottom\">\n      <div class=\"columns is-gapless\">\n        <DropDown class=\"column\" :options=\"['200', '400']\" @clicked=\"cellSize = $event\">\n          <template v-slot:selected>\n            <span>{{size*cellSize}}x{{size*cellSize}}</span>\n          </template>\n          <template v-slot:option=\"slotProps\">\n            {{size*parseInt(slotProps.option)}}x{{size*parseInt(slotProps.option)}}\n          </template>\n        </DropDown>\n        <DropDown class=\"column\" :options=\"['no-denoise', 'conservative', 'denoise1x', 'denoise2x', 'denoise3x', 'pro-no-denoise', 'pro-conservative', 'pro-denoise3x']\" @clicked=\"denoise = $event\" :disabled=\"cellSize == 200\">\n          <template v-slot:selected>\n            <span>{{denoise}}</span>\n          </template>\n          <template v-slot:option=\"slotProps\">\n            {{slotProps.option}}\n          </template>\n        </DropDown>\n        <DropDown class=\"column\" :options=\"workerList\" @clicked=\"workers = $event\" title=\"Max number of workers used when upscaling images\" :disabled=\"cellSize == 200\">\n          <template v-slot:selected>\n              <span >{{workers}}</span>\n          </template>\n          <template v-slot:option=\"slotProps\">\n            Upscale workers: {{slotProps.option}}\n          </template>\n        </DropDown>\n        <DropDown class=\"column\" :options=\"['image/jpeg', 'image/png', 'image/webp']\" @clicked=\"download($event)\">\n          <template v-slot:selected>\n            <span v-if='processing'>{{progress_msg}}</span>\n            <span v-else>Download</span>\n          </template>\n          <template v-slot:option=\"slotProps\">\n            Download ({{slotProps.option}})\n          </template>\n        </DropDown>\n        <DropDown class=\"column\" :options=\"['2', '3', '4', '5']\" @clicked=\"updateSize($event)\">\n          <template v-slot:selected>\n              <span >{{size}}x{{size}}</span>\n          </template>\n          <template v-slot:option=\"slotProps\">\n            {{slotProps.option}}x{{slotProps.option}}\n          </template>\n        </DropDown>\n        <div class=\"column\">\n          <button class=\"button is-small\" @click=\"select_color = !select_color\">Border</button>\n          <div v-if=\"select_color\">\n            <input class=\"button is-small\" type=\"color\" id=\"color\" :value=\"color\" @input=\"updateColor($event)\">\n            <input class=\"is-small\" type=\"range\" :value=\"alpha\" @input=\"updateAlpha($event)\" />\n          </div>\n        </div>\n        <div class=\"column\">\n          <a href=\"https://github.com/gqgs/3x3-generator\" target=\"_blank\">\n          <ion-icon class=\"pt-3\" id=\"github\" name=\"logo-octocat\"></ion-icon>\n          </a>\n        </div>\n      </div>\n    </div>\n</template>\n\n<style scoped>\n#bottom {\n  max-width: 550px;\n}\n\n#color {\n  width: 100%\n}\n\n.column {\n  padding: 10px 2px;\n}\n\n@media (max-width: 768px) {\n  #color {\n    width: 150px;\n  }\n\n  .column {\n    padding: 5px;\n  }\n}\n\n</style>\n\n<script lang=\"ts\">\nimport { ref, defineComponent, watch } from \"vue\"\nimport { mapState } from \"vuex\"\nimport { useStore } from \"../store\"\nimport fileDownload from \"js-file-download\"\nimport { scaleImage } from \"../image\"\nimport DropDown from \"./DropDown.vue\"\nimport { Upscaler } from \"upscalejs\"\nimport type { Model as DenoiseModel } from \"upscalejs\"\n\nexport default defineComponent({\n  components: {\n    DropDown\n  },\n  setup () {\n    // eslint-disable-next-line\n    // @ts-ignore\n    const isMobile = navigator?.userAgentData?.mobile || false\n    const max_workers = navigator.hardwareConcurrency\n    const store = useStore()\n    const cellSize = ref<number>(JSON.parse(localStorage.getItem(\"cellSize\") || \"400\"))\n    const workers = ref<number>(JSON.parse(localStorage.getItem(\"workers\") || (isMobile ? \"1\" : max_workers.toString())))\n    const updateSize = (size: number) => store.dispatch(\"updateSize\", size)\n    const updateColor = (event: Event) => store.dispatch(\"updateColor\", (event.target as HTMLInputElement).value)\n    const updateAlpha = (event: Event) => store.dispatch(\"updateAlpha\", (event.target as HTMLInputElement).value)\n    const denoise = ref(localStorage.getItem(\"denoise:v2\") || \"denoise1x\")\n    const progress = ref(0)\n    const progress_msg = \"Creating image...\"\n    const processing = ref(false)\n    const select_color = ref(false)\n\n    watch(denoise, (denoise) => {\n      store.state.cached_source = null\n      localStorage.setItem(\"denoise:v2\", denoise)\n    })\n\n    watch(cellSize, (cellSize) => {\n      store.state.cached_source = null\n      localStorage.setItem(\"cellSize\", JSON.stringify(cellSize))\n    })\n\n    watch(workers, (workers) => {\n      localStorage.setItem(\"workers\", JSON.stringify(workers))\n    })\n\n    const drawImages = async (denoiseModel: string): Promise<HTMLCanvasElement> => {\n      const imageSize = cellSize.value\n      const size = store.state.size\n      const images = store.state.images\n      const canvas = document.createElement(\"canvas\")\n      canvas.width = size * imageSize\n      canvas.height = size * imageSize\n      const ctx = canvas.getContext(\"2d\")\n      if (!ctx) throw new Error(\"could not get canvas context\")\n      ctx.strokeStyle = store.getters.color\n\n      const workerPool = new Upscaler({\n        maxWorkers: workers.value,\n        maxInternalWorkers: 1,\n        denoiseModel: denoiseModel as DenoiseModel,\n      })\n\n      const upscaleFunc = () => {\n        let i = 0\n        return async (image: ImageBitmap): Promise<ImageBitmap> => {\n          const result = await scaleImage(image, imageSize, workerPool)\n          progress.value = (++i) / Object.keys(images).length * 100\n          return result\n        }\n      }\n      const upscale = upscaleFunc()\n      const upscale_jobs = new Map<string, Promise<ImageBitmap>>()\n      for (const i of Object.keys(images)) {\n        upscale_jobs.set(i, upscale(images[i]))\n      }\n      await Promise.all(Object.values(upscale_jobs))\n\n      for (let x = 0, i = 1; x < size; x++) {\n        for (let y = 0; y < size; y++, i++) {\n          const upscaled = upscale_jobs.get(i.toString())\n          if (upscaled) {\n            ctx.drawImage(await upscaled, 0, 0, imageSize, imageSize, y * imageSize, x * imageSize, imageSize, imageSize)\n            ctx.strokeRect(y * imageSize, x * imageSize, imageSize, imageSize)\n          }\n        }\n      }\n      workerPool.terminate()\n      return canvas\n    }\n\n    const download = async (mimeType: string) => {\n      if (!store.state.cached_source) {\n        progress.value = 0\n        processing.value = true\n        store.state.cached_source = await drawImages(denoise.value)\n        processing.value = false\n      }\n      const size = store.state.size\n      store.state.cached_source.toBlob(blob => {\n        if (blob == null) return\n        let filename = `${size}x${size}`\n        switch (mimeType) {\n          case \"image/png\":\n            filename = `${filename}.png`\n            break\n          case \"image/webp\":\n            filename = `${filename}.webp`\n            break\n          default:\n            filename = `${filename}.jpg`\n        }\n        fileDownload(blob, filename)\n      }, mimeType)\n    }\n\n    const workerList = [...Array(max_workers).keys()].map(key => (key+1).toString())\n\n    return {\n      download,\n      cellSize,\n      progress,\n      progress_msg,\n      denoise,\n      updateSize,\n      updateColor,\n      updateAlpha,\n      processing,\n      workers,\n      workerList,\n      select_color\n    }\n  },\n  computed: {\n    ...mapState([\n      \"size\",\n      \"images\",\n      \"color\",\n      \"alpha\"\n    ])\n  }\n})\n</script>\n","import { renderSlot as _renderSlot, resolveComponent as _resolveComponent, createVNode as _createVNode, createElementVNode as _createElementVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, withModifiers as _withModifiers, normalizeClass as _normalizeClass, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-6106c9b4\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"dropdown-trigger\" }\nconst _hoisted_2 = [\"aria-controls\", \"disabled\"]\nconst _hoisted_3 = { class: \"icon is-small\" }\nconst _hoisted_4 = [\"id\"]\nconst _hoisted_5 = { class: \"dropdown-content\" }\nconst _hoisted_6 = [\"onClick\"]\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _component_ion_icon = _resolveComponent(\"ion-icon\")!\n\n  return (_openBlock(), _createElementBlock(\"div\", null, [\n    _createElementVNode(\"div\", {\n      class: _normalizeClass([{'is-active': _ctx.active}, \"dropdown is-up\"])\n    }, [\n      _createElementVNode(\"div\", _hoisted_1, [\n        _createElementVNode(\"button\", {\n          class: \"button\",\n          \"aria-haspopup\": \"true\",\n          \"aria-controls\": _ctx.dropdown_menu_id,\n          onClick: _cache[0] || (_cache[0] = ($event: any) => (_ctx.active = !_ctx.active)),\n          disabled: _ctx.disabled\n        }, [\n          _renderSlot(_ctx.$slots, \"selected\", {}, undefined, true),\n          _createElementVNode(\"span\", _hoisted_3, [\n            _createVNode(_component_ion_icon, { name: \"chevron-down-outline\" })\n          ])\n        ], 8, _hoisted_2)\n      ]),\n      _createElementVNode(\"div\", {\n        class: \"dropdown-menu\",\n        id: _ctx.dropdown_menu_id,\n        role: \"menu\"\n      }, [\n        _createElementVNode(\"div\", _hoisted_5, [\n          (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.options, (option) => {\n            return (_openBlock(), _createElementBlock(\"a\", {\n              href: \"#\",\n              key: option,\n              onClick: _withModifiers(($event: any) => {_ctx.$emit('clicked', option); _ctx.active = false}, [\"prevent\"]),\n              class: \"dropdown-item\"\n            }, [\n              _renderSlot(_ctx.$slots, \"option\", { option: option }, undefined, true)\n            ], 8, _hoisted_6))\n          }), 128))\n        ])\n      ], 8, _hoisted_4)\n    ], 2)\n  ]))\n}","<template>\n  <div>\n    <div :class=\"{'is-active': active}\" class=\"dropdown is-up\">\n        <div class=\"dropdown-trigger\">\n        <button class=\"button\" aria-haspopup=\"true\" :aria-controls=\"dropdown_menu_id\" @click=\"active = !active\" :disabled=disabled>\n            <slot name=\"selected\"></slot>\n            <span class=\"icon is-small\">\n            <ion-icon name=\"chevron-down-outline\"></ion-icon>\n            </span>\n        </button>\n        </div>\n        <div class=\"dropdown-menu\" :id=\"dropdown_menu_id\" role=\"menu\">\n        <div class=\"dropdown-content\">\n            <a href=\"#\" :key='option' v-for=\"option in options\"\n              @click.prevent=\"$emit('clicked', option); active = false\" class=\"dropdown-item\">\n            <slot name=\"option\" :option=\"option\"></slot>\n            </a>\n        </div>\n        </div>\n    </div>\n  </div>\n</template>\n\n<style scoped>\nbutton {\n  font-size: 13px;\n}\n</style>\n\n<script lang=\"ts\">\nimport { ref, defineComponent, PropType } from \"vue\"\n\nexport default defineComponent({\n  props: {\n    options: {\n      type: Array as PropType<string[]>,\n      required: true\n    },\n    disabled: {\n      type: Boolean,\n      default: false\n    }\n  },\n  emits: [\"clicked\"],\n  setup () {\n    const active = ref(false)\n    const id = Math.random().toString().slice(-8)\n    const dropdown_menu_id = `dropdown-menu-${id}`\n    return {\n      active,\n      dropdown_menu_id\n    }\n  }\n})\n</script>\n","import { render } from \"./DropDown.vue?vue&type=template&id=6106c9b4&scoped=true&ts=true\"\nimport script from \"./DropDown.vue?vue&type=script&lang=ts\"\nexport * from \"./DropDown.vue?vue&type=script&lang=ts\"\n\nimport \"./DropDown.vue?vue&type=style&index=0&id=6106c9b4&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-6106c9b4\"]])\n\nexport default __exports__","import { render } from \"./ToolBar.vue?vue&type=template&id=0453e41a&scoped=true&ts=true\"\nimport script from \"./ToolBar.vue?vue&type=script&lang=ts\"\nexport * from \"./ToolBar.vue?vue&type=script&lang=ts\"\n\nimport \"./ToolBar.vue?vue&type=style&index=0&id=0453e41a&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-0453e41a\"]])\n\nexport default __exports__","import { render } from \"./App.vue?vue&type=template&id=fbb0a598&ts=true\"\nimport script from \"./App.vue?vue&type=script&lang=ts\"\nexport * from \"./App.vue?vue&type=script&lang=ts\"\n\nimport \"./App.vue?vue&type=style&index=0&id=fbb0a598&lang=css\"\n\nimport exportComponent from \"../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { createApp } from \"vue\"\nimport App from \"./App.vue\"\nimport store, { key } from \"./store\"\n\ncreateApp(App).use(store, key).mount(\"#app\")\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","var deferred = [];\n__webpack_require__.O = function(result, chunkIds, fn, priority) {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar chunkIds = deferred[i][0];\n\t\tvar fn = deferred[i][1];\n\t\tvar priority = deferred[i][2];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every(function(key) { return __webpack_require__.O[key](chunkIds[j]); })) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// define __esModule on exports\n__webpack_require__.r = function(exports) {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t524: 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = function(chunkId) { return installedChunks[chunkId] === 0; };\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = function(parentChunkLoadingFunction, data) {\n\tvar chunkIds = data[0];\n\tvar moreModules = data[1];\n\tvar runtime = data[2];\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some(function(id) { return installedChunks[id] !== 0; })) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunk_3x3_generator\"] = self[\"webpackChunk_3x3_generator\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [999], function() { return __webpack_require__(7640); })\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["_hoisted_1","key","_hoisted_2","id","class","render","_ctx","_cache","$props","$setup","$data","$options","_component_Search","_resolveComponent","_component_Cell","_component_Tools","_openBlock","_createElementBlock","_Fragment","_createVNode","_Transition","name","default","_withCtx","show_search","_createCommentVNode","_","_createElementVNode","onClick","args","hideForm","_renderList","tiles","n","_createBlock","_normalizeClass","selected_id","style","_normalizeStyle","complementary_color","color","_component_ion_icon","href","_withModifiers","showSearch","image","src","title","Symbol","useStore","baseUseStore","createStore","state","updater","update","images","size","cached_source","localStorage","getItem","alpha","parseInt","mutations","setShowSearch","setSelectedID","setUpdater","updateCell","updateSize","Object","keys","forEach","updateImages","bitmap","updateColor","setItem","updateAlpha","actions","context","commit","hideSearch","getters","Color","mix","hex","hexa","defineComponent","props","type","Number","required","setup","store","ref","value","dispatch","__exports__","_hoisted_3","_hoisted_4","_hoisted_5","_hoisted_6","_hoisted_7","_hoisted_8","_hoisted_9","_hoisted_10","_component_Cropper","apiNames","api","currentApi","$event","changeApi","_toDisplayString","tabs","tab","currentTab","changeTab","_withDirectives","placeholder","autocomplete","query","onDragenter","onDragover","onDrop","handleDrop","_vModelText","loading","results","length","result","onSelected","selected","mal_id","goBack","_vShow","showing_more","has_show_more","showMore","_createTextVNode","_component_VueCropper","clicked","showCropper","image_url","onReady","ready","onCropend","cropend","rotatable","scalable","zoomable","viewMode","aspectRatio","minCropBoxWidth","minCropBoxHeight","checkCrossOrigin","Jimp","window","resizeBitmap","async","targetSize","canvas","document","createElement","width","height","ctx","getContext","Error","drawImage","imageData","getImageData","read","resize","resizedBuffer","getBufferAsync","MIME_PNG","Blob","scaleImage","workerPool","min","Math","downscaleImage","blob","upscaleImage","Promise","resolve","source","resized","createImageBitmap","upscale","components","VueCropper","emits","emit","cropper","onUnmounted","destroy","zoomTo","x","y","getData","img","Image","onload","imageSize","downscaled","downscale_canvas","transferFromImageBitmap","toDataURL","crossOrigin","API","constructor","_defineProperty","denormalizeTab","search","this","last_id","url","options","fetchURL","resp","fetch","data","json","processResult","filterValidResults","valid_results","WeakSet","image_set","Set","all","map","URL","has","add","head","toString","method","status","e","filter","APIWithShowMore","showMoreURL","processShowMoreResult","proxyImage","b64Url","btoa","replaceAll","params","Kitsu","encodeURI","isMediaData","attributes","titles","en_jp","names","en","posterImage","original","large","undefined","Anilist","variables","page","toUpperCase","perPage","headers","Accept","body","JSON","stringify","queries","parseCharacters","Page","characters","parseMedia","media","mediaQuery","characterQuery","anime","manga","character","full","coverImage","extraLarge","romaji","Jikan","jpg","large_image_url","random","LastFM","albummatches","album","artist","shift","replace","slice","api_key","GiantBomb","original_url","guid","apis","apisMap","Map","set","apiFromString","get","storage_api","api_exists","some","used_api","lastQuery","debounce","newtab","watch","newApi","includes","event","files","dataTransfer","dropped","i","file","item","push","createObjectURL","Cropper","Api","_hoisted_11","target","_component_DropDown","processing","progress","max","onClicked","cellSize","option","slotProps","denoise","disabled","workerList","workers","download","progress_msg","select_color","onInput","active","dropdown_menu_id","_renderSlot","$slots","role","$emit","Array","Boolean","DropDown","isMobile","navigator","userAgentData","mobile","max_workers","hardwareConcurrency","parse","drawImages","strokeStyle","Upscaler","maxWorkers","maxInternalWorkers","denoiseModel","upscaleFunc","upscale_jobs","values","upscaled","strokeRect","terminate","toBlob","filename","mimeType","fileDownload","computed","mapState","Cell","Search","Tools","mapGetters","methods","mapActions","createApp","App","use","mount","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","exports","module","__webpack_modules__","call","m","deferred","O","chunkIds","fn","priority","notFulfilled","Infinity","fulfilled","j","every","splice","r","getter","__esModule","d","a","definition","o","defineProperty","enumerable","g","globalThis","Function","obj","prop","prototype","hasOwnProperty","toStringTag","installedChunks","chunkId","webpackJsonpCallback","parentChunkLoadingFunction","moreModules","runtime","chunkLoadingGlobal","self","bind","__webpack_exports__"],"sourceRoot":""}